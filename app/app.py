import streamlit as st
import joblib
import pickle
import pandas as pd
import os
import sys






# Load the trained model
#model = joblib.load('../models/model.pkl')
#model = joblib.load('model.pkl')
modelc = joblib.load('models/model.pkl')
scaler = joblib.load('models/scaler.pkl') 
scl = joblib.load('models/scl.pkl') 
# Title for the web app
st.title('Star Classification Prediction')

# Input fields for each feature
temperature = st.number_input('Temperature (K)', min_value=2000, max_value=40000, value=3134)
luminosity = st.number_input('Luminosity (L/Lo)', min_value=0.0001, max_value=813000.0, value=0.0004)
radius = st.number_input('Radius (R/Ro)', min_value=0.0084, max_value=1673.0, value=0.196)
magnitude = st.number_input('Absolute Magnitude (Mv)', min_value=-11.75, max_value=20.0, value=13.21)
star_color = st.selectbox('Star Color', ['Red', 'Blue-White', 'White', 'Yellow-White'])
spectral_class = st.selectbox('Spectral Class', ['A', 'B', 'F', 'G', 'K', 'M', 'O'])

# Prepare the input data for prediction
new_data = pd.DataFrame({
    'Temperature (K)': [temperature],
    'Luminosity(L/Lo)': [luminosity],
    'Radius(R/Ro)': [radius],
    'Absolute magnitude(Mv)': [magnitude],
    'Star color_Blue-White': [1 if star_color == 'Blue-White' else 0],
    'Star color_Red': [1 if star_color == 'Red' else 0],
    'Star color_White': [1 if star_color == 'White' else 0],
    'Star color_Yellow-White': [1 if star_color == 'Yellow-White' else 0],
    'Spectral Class_A': [1 if spectral_class == 'A' else 0],
    'Spectral Class_B': [1 if spectral_class == 'B' else 0],
    'Spectral Class_F': [1 if spectral_class == 'F' else 0],
    'Spectral Class_G': [1 if spectral_class == 'G' else 0],
    'Spectral Class_K': [1 if spectral_class == 'K' else 0],
    'Spectral Class_M': [1 if spectral_class == 'M' else 0],
    'Spectral Class_O': [1 if spectral_class == 'O' else 0]
})

# Align the columns with the model's expected feature names
new_data = new_data[modelc.feature_names_in_]

# Make the prediction
if st.button('Predict Star Type'):
    prediction = modelc.predict(new_data)
    star_type = prediction[0]
    
    # Map the prediction back to the star type
    star_types = {
        0: 'Brown Dwarf',
        1: 'Red Dwarf',
        2: 'White Dwarf',
        3: 'Main Sequence',
        4: 'Supergiants',
        5: 'Hypergiants'
    }
    st.write(f'Predicted Star Type: {star_types[star_type]}')
################################################################################################################
# Load the trained model app

# model = joblib.load('/models/regressionmodel.pkl')
# Define the model path
# Append parent directory to sys.path
#sys.path.append(os.path.join(os.path.abspath('.')))
#model_path = 'models/regressionmodel.pkl'
model_path = 'models/linear_regression_model.pkl'

# Try loading the model
try:
    model = joblib.load('app/LinearRegression.pkl')
    st.success("Model successfully loaded!")
except FileNotFoundError:
    st.error(f"Model not found at {model_path}. Please check the path.")

# Set up the Streamlit interface
st.title("Car Price Prediction")

st.write("""
This app predicts the price of a car based on the following features:
- Levy
- Model
- Prod. year
- Category
- Leather interior
- Engine volume
- Mileage
- Cylinders
- Airbags
""")
model_encoder =  {'09-Mar': 0, '100': 1, '100 NX': 2, '1000': 3, '1111': 4, '114': 5, '116': 6, '118': 7, '118 2,0': 8, '118 M-sport LCI': 9, '120': 10, '128': 11, '128 M tech': 12, '130': 13, '1300': 14, '135': 15, '147': 16, '1500': 17, '1500,1600 Schtufenheck': 18, '159': 19, '166': 20, '190': 21, '20': 22, '200': 23, '206': 24, '206 CC': 25, '207': 26, '208': 27, '21': 28, '21 3.0': 29, '2101 01': 30, '2103 03': 31, '2105': 32, '2106': 33, '2107': 34, '2107 07': 35, '2109': 36, '2111': 37, '2121 (Niva)': 38, '2140': 39, '216': 40, '220': 41, '225': 42, '230': 43, '230 W153': 44, '24': 45, '24 10': 46, '240': 47, '250': 48, '270': 49, '280': 50, '290': 51, '3.18E+38': 52, '3.20E+38': 53, '3.25E+48': 54, '300': 55, '300 LIMITED': 56, '3008': 57, '3008 2.0': 58, '307': 59, '311': 60, '3110': 61, '31105': 62, '31514': 63, '31514 UAZ': 64, '316': 65, '316 1995': 66, '316 i': 67, '318': 68, '318 318': 69, '318 m': 70, '318 რესტაილინგი': 71, '318 სასწრაფოდ': 72, '320': 73, '320 2.0': 74, '320 2.2': 75, '320 320': 76, '320 DIESEL': 77, '320 Diesel': 78, '320 Gran Turismo': 79, '320 I': 80, '320 M': 81, '320 i': 82, '32214': 83, '322173': 84, '323': 85, '323 F': 86, '325': 87, '325 CI': 88, '325 XI': 89, '325 i': 90, '328': 91, '328 DIZEL': 92, '328 DRIFT CAR': 93, '328 Xdrive': 94, '328 i': 95, '328 sulev': 96, '330': 97, '335': 98, '335 335i': 99, '335 D': 100, '335 M paket': 101, '335 ტურბო': 102, '340': 103, '370Z': 104, '3796': 105, '400': 106, '400X': 107, '401': 108, '406': 109, '407': 110, '416': 111, '420': 112, '428': 113, '428 Sport Line': 114, '428 i': 115, '435': 116, '435 CUPE': 117, '456': 118, '4Runner': 119, '4Runner LIMITED': 120, '5.30E+62': 121, '50': 122, '500': 123, '500 46 ml': 124, '500 Abarth': 125, '500 Abarth ტურბო': 126, '500 Lounge': 127, '500 SPORT': 128, '500 Sport': 129, '500 s': 130, '500 sport': 131, '500 sport panorama': 132, '500 turbo': 133, '500C': 134, '500C Lounge': 135, '500L': 136, '500L LONG': 137, '500X': 138, '500X Lounge': 139, '508': 140, '520': 141, '520 I': 142, '520 Vanos': 143, '520 d xDrive Luxury': 144, '523': 145, '525': 146, '525 ///M': 147, '525 525': 148, '525 TDI': 149, '525 Vanos': 150, '525 i': 151, '528': 152, '528 3.0': 153, '528 i': 154, '530': 155, '530 525i': 156, '530 G30': 157, '530 GT': 158, '530 I': 159, '530 M': 160, '530 i': 161, '535': 162, '535 535': 163, '535 Diesel': 164, '535 I': 165, '535 M': 166, '535 M PAKET': 167, '535 Twinturbo': 168, '535 XI': 169, '535 comfort-sport': 170, '535 i': 171, '535 i xDrive': 172, '540 I': 173, '545': 174, '550': 175, '550 F10': 176, '550 GT': 177, '550 M Packet': 178, '607': 179, '616': 180, '626': 181, '630': 182, '635': 183, '640': 184, '640 GRAN-COUPE': 185, '640 M': 186, '645': 187, '645 CI': 188, '650': 189, '650 450 HP': 190, '7.30E+34': 191, '730': 192, '730 3.0': 193, '735': 194, '740': 195, '740 i': 196, '745': 197, '745 i': 198, '750': 199, '750 4.8': 200, '807': 201, '911': 202, '911 meqanika': 203, '940': 204, '960': 205, '969 968m': 206, '969 luaz': 207, 'A 140': 208, 'A 140 140': 209, 'A 160': 210, 'A 170': 211, 'A 170 Avangard': 212, 'A 170 CDI': 213, 'A 190': 214, 'A 200': 215, 'A3': 216, 'A3 4X4': 217, 'A3 PREMIUM': 218, 'A4': 219, 'A4 B5': 220, 'A4 B6': 221, 'A4 B7': 222, 'A4 S line': 223, 'A4 S4': 224, 'A4 Sline': 225, 'A4 premium': 226, 'A4 premium plius': 227, 'A5': 228, 'A5 Sportback': 229, 'A6': 230, 'A6 C7': 231, 'A6 QUATTRO': 232, 'A6 UNIVERSAL': 233, 'A6 evropuli': 234, 'A6 premium plus': 235, 'A6 С6': 236, 'A7': 237, 'A7 Prestige': 238, 'A8': 239, 'AMG GT S': 240, 'ATS': 241, 'Acadia': 242, 'Accent': 243, 'Accent GS': 244, 'Accent SE': 245, 'Accord': 246, 'Accord CL9 type S': 247, 'Actyon': 248, 'Aerio SX': 249, 'Agila': 250, 'Airtrek': 251, 'Airtrek turbo': 252, 'Allante': 253, 'Allroad': 254, 'Allroad Allroad': 255, 'Almera': 256, 'Almera dci': 257, 'Alphard': 258, 'Altezza': 259, 'Altima': 260, 'Alto Lapin': 261, 'Aqua': 262, 'Aqua G': 263, 'Aqua G klas': 264, 'Aqua HIBRID': 265, 'Aqua L paketi': 266, 'Aqua S': 267, 'Aqua g soft leather sele': 268, 'Aqua s': 269, 'Aqua sport': 270, 'Aqua სასწრაფოდ': 271, 'Armada': 272, 'Astra': 273, 'Astra 1600': 274, 'Astra A.H': 275, 'Astra BERTONE': 276, 'Astra CNG': 277, 'Astra G': 278, 'Astra GE': 279, 'Astra GTC 1.9 turbo dies': 280, 'Astra H': 281, 'Astra astra': 282, 'Astra g': 283, 'Astra gi': 284, 'Astra j': 285, 'Astra suzuki mr wagon': 286, 'Astra td': 287, 'Atenza': 288, 'Auris': 289, 'Avalanche': 290, 'Avalon': 291, 'Avalon LIMITED': 292, 'Avalon Limited': 293, 'Avalon limited': 294, 'Avella': 295, 'Avenger': 296, 'Avensis': 297, 'Aveo': 298, 'Axela': 299, 'Azera': 300, 'B 170': 301, 'B 170 B Class': 302, 'B 170 Edition One': 303, 'B 180': 304, 'B 200': 305, 'B 200 Turbo': 306, 'B 220': 307, 'B-MAX': 308, 'B9 Tribeca': 309, 'BB': 310, 'BRZ': 311, 'Belta': 312, 'Berlingo': 313, 'Bluebird': 314, 'Bora': 315, 'C 180': 316, 'C 180 2.0': 317, 'C 180 komp': 318, 'C 200': 319, 'C 200 2.0': 320, 'C 200 7G-TRONIC': 321, 'C 200 KOMPRESSOR': 322, 'C 200 Kompressor': 323, 'C 220': 324, 'C 220 CDI': 325, 'C 230': 326, 'C 230 2.0 kompresor': 327, 'C 230 2.5': 328, 'C 230 kompresor': 329, 'C 240': 330, 'C 240 W 203': 331, 'C 240 w203': 332, 'C 250': 333, 'C 250 1,8 turbo': 334, 'C 250 1.8': 335, 'C 250 1.8 ტურბო': 336, 'C 250 A.M.G': 337, 'C 250 AMG': 338, 'C 250 AMG-PAKET-1,8': 339, 'C 250 luxury': 340, 'C 270': 341, 'C 280': 342, 'C 300': 343, 'C 300 4matic': 344, 'C 300 6.3 AMG Package': 345, 'C 300 sport': 346, 'C 32 AMG': 347, 'C 320': 348, 'C 320 AMG': 349, 'C 320 CDI': 350, 'C 350': 351, 'C 36 AMG': 352, 'C 400': 353, 'C 43 AMG': 354, 'C 63 AMG': 355, 'C-MAX': 356, 'C-MAX C-MAX': 357, 'C-MAX HYBRID': 358, 'C-MAX PREMIUM': 359, 'C-MAX SE': 360, 'C-MAX SEL': 361, 'C1': 362, 'C1 C': 363, 'C30': 364, 'C30 2010': 365, 'C4': 366, 'C5': 367, 'C70': 368, 'C8': 369, 'CC': 370, 'CC 2.0 T': 371, 'CC R line': 372, 'CC sport': 373, 'CERVO': 374, 'CHR': 375, 'CHR Limited': 376, 'CL 500': 377, 'CL 55 AMG KOMPRESSOR': 378, 'CL 550': 379, 'CL 600': 380, 'CL550 AMG': 381, 'CLA 250': 382, 'CLA 250 AMG': 383, 'CLA 45 AMG': 384, 'CLK 200': 385, 'CLK 200 200': 386, 'CLK 200 208': 387, 'CLK 200 Kompressor': 388, 'CLK 200 kompresor': 389, 'CLK 230': 390, 'CLK 230 .': 391, 'CLK 240': 392, 'CLK 270': 393, 'CLK 280': 394, 'CLK 320': 395, 'CLK 320 AMG': 396, 'CLK 320 avangarde': 397, 'CLK 350': 398, 'CLK 430': 399, 'CLK 55 AMG': 400, 'CLS 350': 401, 'CLS 350 AMG': 402, 'CLS 350 JAPAN': 403, 'CLS 450 CLS 400': 404, 'CLS 500': 405, 'CLS 55 AMG': 406, 'CLS 550': 407, 'CLS 550 550': 408, 'CLS 63 AMG': 409, 'CR-Z': 410, 'CR-Z ჰიბრიდი': 411, 'CRX': 412, 'CT 200h': 413, 'CT 200h 1.8': 414, 'CT 200h F SPORT': 415, 'CT 200h F sport': 416, 'CT 200h F-sport': 417, 'CTS': 418, 'CX-3': 419, 'CX-5': 420, 'CX-5 Touring': 421, 'CX-7': 422, 'CX-9': 423, 'Caddy': 424, 'Caddy cadi': 425, 'Cadenza': 426, 'Caldina': 427, 'Caliber': 428, 'Caliber journey': 429, 'Caliber sxt': 430, 'Camaro': 431, 'Camaro LS': 432, 'Camaro RS': 433, 'Cami': 434, 'Camry': 435, 'Camry HYBRID': 436, 'Camry Hybrid': 437, 'Camry LE': 438, 'Camry Le': 439, 'Camry S': 440, 'Camry SE': 441, 'Camry SE HIBRYD': 442, 'Camry SPORT': 443, 'Camry SPORT PAKET': 444, 'Camry Se': 445, 'Camry XLE': 446, 'Camry XLEi': 447, 'Camry XSE': 448, 'Camry XV50': 449, 'Camry se': 450, 'Camry sel': 451, 'Camry sport': 452, 'Camry sport se': 453, 'Camry sporti': 454, 'Camry ჰიბრიდი': 455, 'Captiva': 456, 'Captur QM3 Samsung': 457, 'Caravan': 458, 'Caravan tradesman': 459, 'Carens': 460, 'Carisma': 461, 'Carnival': 462, 'Carnival grand': 463, 'Catera': 464, 'Cayenne': 465, 'Cayenne S': 466, 'Cayenne s': 467, 'Cayman': 468, 'Ceed': 469, 'Cefiro': 470, 'Celica': 471, 'Century': 472, 'Cerato': 473, 'Cerato K3': 474, 'Challenger': 475, 'Charger RT': 476, 'Chariot': 477, 'Cherokee': 478, 'Cinquecento': 479, 'Citan': 480, 'Civic': 481, 'Civic EX': 482, 'Civic Ferio': 483, 'Civic Hybrid': 484, 'Clio': 485, 'Colorado': 486, 'Colt': 487, 'Colt Lancer': 488, 'ColtPlus': 489, 'ColtPlus Plus': 490, 'Combo': 491, 'Combo 1700': 492, 'Combo 2001': 493, 'Combo TDI': 494, 'Compass': 495, 'Continental': 496, 'Continental GT': 497, 'Cooper': 498, 'Cooper CLUBMAN': 499, 'Cooper F-56': 500, 'Cooper S': 501, 'Cooper S Cabrio': 502, 'Cooper S Cabrio R56': 503, 'Cooper r50': 504, 'Corolla': 505, 'Corolla 04': 506, 'Corolla 140': 507, 'Corolla ECO': 508, 'Corolla IM': 509, 'Corolla Im': 510, 'Corolla LE': 511, 'Corolla S': 512, 'Corolla se': 513, 'Corolla spacio': 514, 'Corolla verso': 515, 'Corsa': 516, 'Corsa Corsa': 517, 'Corvette': 518, 'Cougar': 519, 'Countryman': 520, 'Countryman S': 521, 'Countryman S turbo': 522, 'Countryman s': 523, 'Countryman sport': 524, 'Courier': 525, 'Cr-v': 526, 'Cr-v Cr-v': 527, 'Cr-v LX': 528, 'Crafter': 529, 'Crafter 2,5TDI': 530, 'Crafter 2.5 TDI': 531, 'Crossfire': 532, 'Crossland X': 533, 'Crossroad': 534, 'Crosstour': 535, 'Crosstrek': 536, 'Cruze': 537, 'Cruze Cruze': 538, 'Cruze L T': 539, 'Cruze LS': 540, 'Cruze LT': 541, 'Cruze LT RS': 542, 'Cruze LTZ': 543, 'Cruze PREMIER': 544, 'Cruze Premier': 545, 'Cruze RS': 546, 'Cruze S': 547, 'Cruze ltz': 548, 'Cruze sonic': 549, 'Cruze strocna': 550, 'DS 4': 551, 'DTS': 552, 'Daimler': 553, 'Dart': 554, 'Dart GT 2.4': 555, 'Dart Limited': 556, 'Defender 90 Cabrio': 557, 'Delica': 558, 'Delica 5': 559, 'Demio': 560, 'Demio 12': 561, 'Demio Sport': 562, 'Demio evropuli': 563, 'Demio mazda2': 564, 'Discovery': 565, 'Discovery IV': 566, 'Discovery LR3': 567, 'Doblo': 568, 'Durango': 569, 'Duster': 570, 'E 200': 571, 'E 200 2000': 572, 'E 200 CGI': 573, 'E 200 w210': 574, 'E 220': 575, 'E 220 211': 576, 'E 220 CDI': 577, 'E 220 ELEGANCE': 578, 'E 220 W210...CDI': 579, 'E 220 cdi': 580, 'E 230': 581, 'E 230 124': 582, 'E 240': 583, 'E 240 E 240': 584, 'E 250': 585, 'E 260': 586, 'E 270': 587, 'E 270 4': 588, 'E 270 AVANGARDI': 589, 'E 270 CDI': 590, 'E 280': 591, 'E 280 3.0': 592, 'E 280 CDI': 593, 'E 290': 594, 'E 300': 595, 'E 300 AVANTGARDE-LTD': 596, 'E 320': 597, 'E 320 4matic': 598, 'E 320 4×4': 599, 'E 320 bluetec': 600, 'E 350': 601, 'E 350 212': 602, 'E 350 4 MATIC': 603, 'E 350 4 Matic AMG Packag': 604, 'E 350 4 matic': 605, 'E 350 AMG': 606, 'E 350 w211': 607, 'E 350 ამგ': 608, 'E 36 AMG': 609, 'E 400': 610, 'E 420': 611, 'E 430': 612, 'E 50': 613, 'E 500': 614, 'E 500 AMG': 615, 'E 500 AVG': 616, 'E 55': 617, 'E 550': 618, 'E-pace': 619, 'E-pace p200': 620, 'ES 300': 621, 'ES 300 hybrid': 622, 'ES 350': 623, 'EX35': 624, 'EX37': 625, 'Eclipse': 626, 'Eclipse ES': 627, 'EcoSport': 628, 'EcoSport SE': 629, 'Edge': 630, 'Edix': 631, 'Edix FR-v': 632, 'Elantra': 633, 'Elantra 2014': 634, 'Elantra 2016': 635, 'Elantra GLS / LIMITED': 636, 'Elantra GS': 637, 'Elantra GT': 638, 'Elantra Gt': 639, 'Elantra LIMITED': 640, 'Elantra LIMITEDI': 641, 'Elantra Limited': 642, 'Elantra SE': 643, 'Elantra Se': 644, 'Elantra gt': 645, 'Elantra i30': 646, 'Elantra limited': 647, 'Elantra se': 648, 'Elantra sport limited': 649, 'Element': 650, 'Elgrand': 651, 'Elysion': 652, 'Elysion 3.0': 653, 'Enclave': 654, 'Encore': 655, 'Envoy': 656, 'Eos': 657, 'Equinox': 658, 'Equinox LT': 659, 'Escalade': 660, 'Escape': 661, 'Escape 3.0': 662, 'Escape HYBRID': 663, 'Escape Hybrid': 664, 'Escape SE': 665, 'Escape Titanium': 666, 'Escape escape': 667, 'Escape მერკური მერინერი': 668, 'Escape სასწრაფოდ': 669, 'Escort': 670, 'Escudo': 671, 'Estima': 672, 'Eunos 500': 673, 'Every Landy NISSAN SEREN': 674, 'Expedition': 675, 'Explorer': 676, 'Explorer Turbo japan': 677, 'Explorer XLT': 678, 'F-pace': 679, 'F-type': 680, 'F-type R': 681, 'F150': 682, 'F50': 683, 'FIT': 684, 'FIT "S"- PAKETI.': 685, 'FIT GP-5': 686, 'FIT GP-6': 687, 'FIT HIBRID': 688, 'FIT HYBRYD': 689, 'FIT Hbrid': 690, 'FIT Hybrid': 691, 'FIT LX': 692, 'FIT Modulo': 693, 'FIT NAVI PREMIUM': 694, 'FIT PREMIUM PAKETI': 695, 'FIT PREMIUMI': 696, 'FIT Premiym': 697, 'FIT RS': 698, 'FIT RS MODELI': 699, 'FIT RS MUGEN': 700, 'FIT S': 701, 'FIT SPORT': 702, 'FIT Sport': 703, 'FIT ex': 704, 'FIT fit': 705, 'FJ Cruiser': 706, 'FX35': 707, 'FX45': 708, 'Fabia': 709, 'Feroza': 710, 'Fiesta': 711, 'Fiesta 1.6': 712, 'Fiesta SE': 713, 'Fit Aria': 714, 'Focus': 715, 'Focus Flexfuel': 716, 'Focus Fokusi': 717, 'Focus SE': 718, 'Focus SEL': 719, 'Focus ST': 720, 'Focus TITANIUM': 721, 'Focus Titanium': 722, 'Focus se': 723, 'Forester': 724, 'Forester 4x4': 725, 'Forester CrossSport': 726, 'Forester L.L.BEAN': 727, 'Forester SH': 728, 'Forester XT': 729, 'Forester cross sport': 730, 'Forester stb': 731, 'Forte': 732, 'Fortuner': 733, 'Fred': 734, 'Fred HIBRIDI': 735, 'Freelander': 736, 'Frontera': 737, 'Frontera A B': 738, 'Frontier': 739, 'Fuga': 740, 'Fun Cargo': 741, 'Fusion': 742, 'Fusion 1.6': 743, 'Fusion 2015': 744, 'Fusion Bybrid': 745, 'Fusion HIBRID': 746, 'Fusion HYBRID': 747, 'Fusion HYBRID SE': 748, 'Fusion Hybrid': 749, 'Fusion SE': 750, 'Fusion TITANIUM': 751, 'Fusion Titanium': 752, 'Fusion hybrid': 753, 'Fusion phev': 754, 'G 230 2.2cdi': 755, 'G 300': 756, 'G 320': 757, 'G 350': 758, 'G 55 AMG': 759, 'G 550': 760, 'G 63 AMG': 761, 'G 65 AMG 63AMG': 762, 'G 65 AMG G63 AMG': 763, 'G20': 764, 'G35 x': 765, 'G37': 766, 'G6': 767, 'GL 320': 768, 'GL 320 bluetec': 769, 'GL 350': 770, 'GL 350 BLUETEC': 771, 'GL 350 BLUTEC': 772, 'GL 350 Bluetec': 773, 'GL 350 დიზელი': 774, 'GL 450': 775, 'GL 450 3.0': 776, 'GL 500': 777, 'GL 550': 778, 'GL 63 AMG': 779, 'GLA 200': 780, 'GLA 250': 781, 'GLC 250': 782, 'GLC 300': 783, 'GLC 300 GLC coupe': 784, 'GLE 350': 785, 'GLE 400': 786, 'GLE 400 A M G': 787, 'GLE 400 Coupe, AMG Kit': 788, 'GLE 43 AMG': 789, 'GLE 450': 790, 'GLE 63 AMG': 791, 'GLK 250': 792, 'GLK 300': 793, 'GLK 350': 794, 'GLS 450': 795, 'GLS 63 AMG': 796, 'GONOW': 797, 'GS 300': 798, 'GS 350': 799, 'GS 450': 800, 'GTI': 801, 'GX 460': 802, 'GX 470': 803, 'GX 470 470': 804, 'GX 470 SUV 4D (4.7L V8 S': 805, 'Galant': 806, 'Galant GTS': 807, 'Galaxy': 808, 'Galloper': 809, 'Genesis': 810, 'Gentra': 811, 'Getz': 812, 'Ghibli': 813, 'Giulietta': 814, 'Gloria': 815, 'Golf': 816, 'Golf 1.8': 817, 'Golf 2': 818, 'Golf 3': 819, 'Golf 4': 820, 'Golf 6': 821, 'Golf GOLF 5': 822, 'Golf GTI': 823, 'Golf Gti': 824, 'Golf TDI': 825, 'Grand Cherokee': 826, 'Grand Cherokee LAREDO': 827, 'Grand Cherokee Saiubileo': 828, 'Grand Cherokee special e': 829, 'Grand HIACE': 830, 'Grand Vitara': 831, 'Grandeur': 832, 'Grandis': 833, 'H1': 834, 'H1 GRAND STAREX': 835, 'H1 grandstarex': 836, 'H1 starixs': 837, 'H2': 838, 'H3': 839, 'H6': 840, 'HHR': 841, 'HS 250h': 842, 'HS 250h Hybrid': 843, 'HUSTLER': 844, 'Harrier': 845, 'Hiace': 846, 'Highlander': 847, 'Highlander 2,4': 848, 'Highlander 2.4 lit': 849, 'Highlander LIMITED': 850, 'Highlander XLE': 851, 'Highlander limited': 852, 'Highlander sport': 853, 'Hilux': 854, 'Hilux Surf': 855, 'Hr-v': 856, 'Hr-v EX': 857, 'Hr-v EXL': 858, 'I': 859, 'I30': 860, 'INSIGNIA': 861, 'IS 200': 862, 'IS 250': 863, 'IS 250 TURBO': 864, 'IS 250 რესტაილინგი': 865, 'IS 300': 866, 'IS 350': 867, 'IS 350 C': 868, 'IS-F': 869, 'ISIS': 870, 'IVECO DAYLY': 871, 'IX35': 872, 'IX35 2.0': 873, 'Ibiza': 874, 'Ignis': 875, 'Impala': 876, 'Impreza': 877, 'Impreza G4': 878, 'Impreza Sport': 879, 'Impreza WRX/STI LIMITED': 880, 'Insight': 881, 'Insight EX': 882, 'Insight LX': 883, 'Inspire': 884, 'Integra': 885, 'Intrepid': 886, 'Ioniq': 887, 'Ipsum': 888, 'Ipsum S': 889, 'Ist': 890, 'Ist 1.5': 891, 'JX35': 892, 'Jetta': 893, 'Jetta 1.4 TURBO': 894, 'Jetta 2': 895, 'Jetta 2.0': 896, 'Jetta GLI': 897, 'Jetta Hybrid': 898, 'Jetta SE': 899, 'Jetta SEL': 900, 'Jetta SPORT': 901, 'Jetta TDI': 902, 'Jetta s': 903, 'Jetta se': 904, 'Jetta sei': 905, 'Jetta sel': 906, 'Jetta sport': 907, 'Jetta სასწაფოდ': 908, 'Jetta სპორტ': 909, 'Jimny': 910, 'Jimny GLX': 911, 'Journey': 912, 'Juke': 913, 'Juke Juke': 914, 'Juke NISMO': 915, 'Juke Nismo': 916, 'Juke Nismo RS': 917, 'Juke Turbo': 918, 'Juke juke': 919, 'Juke nismo': 920, 'KA': 921, 'Kalos': 922, 'Kangoo': 923, 'Kangoo Waggon': 924, 'Kicks': 925, 'Kicks SR': 926, 'Kizashi': 927, 'Kizashi sporti': 928, 'Korando': 929, 'Kyron': 930, 'L 200': 931, 'LAFESTA': 932, 'LATIO': 933, 'LS 460': 934, 'LX 470': 935, 'LX 570': 936, 'Lacetti': 937, 'Laguna': 938, 'Lancer': 939, 'Lancer GT': 940, 'Lancer GTS': 941, 'Land Cruiser': 942, 'Land Cruiser 100': 943, 'Land Cruiser 105': 944, 'Land Cruiser 11': 945, 'Land Cruiser 200': 946, 'Land Cruiser 80': 947, 'Land Cruiser PRADO': 948, 'Land Cruiser Prado': 949, 'Land Cruiser Prado RX': 950, 'Land Rover Sport': 951, 'Lantra': 952, 'Lantra LIMITED': 953, 'Leaf': 954, 'Legacy': 955, 'Legacy B4': 956, 'Legacy B4 twin turbo': 957, 'Legacy Bl5': 958, 'Legacy Outback': 959, 'Legacy b4': 960, 'Legacy bl5': 961, 'Legend FULL': 962, 'Leon': 963, 'Liana': 964, 'Liberty': 965, 'Lupo': 966, 'Lupo iaponuri': 967, 'M3': 968, 'M37': 969, 'M4': 970, 'M4 Competition': 971, 'M5': 972, 'M5 Japan': 973, 'M5 Машина в максимально': 974, 'M550': 975, 'M6': 976, 'M6 Gran cupe': 977, 'MDX': 978, 'MKZ': 979, 'MKZ hybrid': 980, 'ML 250': 981, 'ML 270': 982, 'ML 270 CDI': 983, 'ML 280': 984, 'ML 280 სასწრაფოდ': 985, 'ML 300': 986, 'ML 320': 987, 'ML 320 AMG': 988, 'ML 320 cdi': 989, 'ML 350': 990, 'ML 350 3.7': 991, 'ML 350 370': 992, 'ML 350 4 MATIC': 993, 'ML 350 4matic': 994, 'ML 350 BLUETEC': 995, 'ML 350 ML350': 996, 'ML 350 SPECIAL EDITION': 997, 'ML 350 sport': 998, 'ML 500': 999, 'ML 500 AMG': 1000, 'ML 55 AMG': 1001, 'ML 550': 1002, 'ML 550 4.7': 1003, 'ML 63 AMG': 1004, 'MPV': 1005, 'MPV LX': 1006, 'Malibu': 1007, 'Malibu Hybrid': 1008, 'Malibu LT': 1009, 'Malibu eco': 1010, 'March': 1011, 'March 231212': 1012, 'March Rafeet': 1013, 'Mariner': 1014, 'Mariner Hybrid': 1015, 'Mark X': 1016, 'Mark X Zio': 1017, 'Matiz': 1018, 'Matrix XR': 1019, 'Maverick': 1020, 'Maxima': 1021, 'Mazda 2': 1022, 'Mazda 3': 1023, 'Mazda 3 SPORT': 1024, 'Mazda 5': 1025, 'Mazda 6': 1026, 'Mazda 6 Grand Touring': 1027, 'Mazda 6 Grand touring': 1028, 'Mazda 6 TOURING': 1029, 'Megane': 1030, 'Megane 1.5CDI': 1031, 'Megane 1.9 CDI': 1032, 'Megane 1.9CDI': 1033, 'Megane 19': 1034, 'Megane 5': 1035, 'Megane GT Line': 1036, 'Meriva': 1037, 'Micra': 1038, 'Micra <DIESEL>': 1039, 'Millenia': 1040, 'Minica': 1041, 'Mira': 1042, 'Mirage': 1043, 'Moco': 1044, 'Model X': 1045, 'Mondeo': 1046, 'Monterey': 1047, 'Montero': 1048, 'Montero Sport': 1049, 'Move': 1050, 'Mulsanne': 1051, 'Murano': 1052, 'Musa': 1053, 'Mustang': 1054, 'Mustang cabrio': 1055, 'Mustang ecoboost': 1056, 'Mx-5': 1057, 'NEW Beetle': 1058, 'NX 200': 1059, 'NX 300': 1060, 'Navara': 1061, 'Navigator': 1062, 'Neon': 1063, 'Niro': 1064, 'Niva': 1065, 'Noah': 1066, 'Note': 1067, 'Nubira': 1068, 'Octavia': 1069, 'Octavia SCOUT': 1070, 'Octavia Scout': 1071, 'Odyssey': 1072, 'Omega': 1073, 'Omega 1': 1074, 'Omega B': 1075, 'Omega b': 1076, 'Omega c': 1077, 'One': 1078, 'Optima': 1079, 'Optima ECO': 1080, 'Optima EX': 1081, 'Optima HYBRID': 1082, 'Optima Hybrid': 1083, 'Optima SXL': 1084, 'Optima X': 1085, 'Optima ex': 1086, 'Optima hybid': 1087, 'Optima hybrid': 1088, 'Optima k5': 1089, 'Orlando': 1090, 'Outback': 1091, 'Outback 2007': 1092, 'Outback 3.0': 1093, 'Outback Limited': 1094, 'Outlander': 1095, 'Outlander 2.0': 1096, 'Outlander SE': 1097, 'Outlander SPORT': 1098, 'Outlander Sport': 1099, 'Outlander sport': 1100, 'Outlander xl': 1101, 'Outlander სპორტ': 1102, 'PT Cruiser': 1103, 'PT Cruiser pt cruiser': 1104, 'Paceman': 1105, 'Pacifica': 1106, 'Pajero': 1107, 'Pajero 2.5diezel': 1108, 'Pajero IO': 1109, 'Pajero MONTERO': 1110, 'Pajero Mini': 1111, 'Pajero Mini 2008 წლიანი': 1112, 'Pajero Mini 2010 წლიანი': 1113, 'Pajero Sport': 1114, 'Panamera': 1115, 'Panamera 4': 1116, 'Panamera GTS': 1117, 'Panamera S': 1118, 'Panda': 1119, 'Passat': 1120, 'Passat 2.0 tfsi': 1121, 'Passat B5': 1122, 'Passat B7': 1123, 'Passat R-line': 1124, 'Passat RLAINI': 1125, 'Passat SE': 1126, 'Passat SEL': 1127, 'Passat Se': 1128, 'Passat pasat': 1129, 'Passat se': 1130, 'Passat sel': 1131, 'Passat sport': 1132, 'Passat tdi sel': 1133, 'Passat tsi-se': 1134, 'Passo': 1135, 'Passport': 1136, 'Pathfinder': 1137, 'Pathfinder SE': 1138, 'Patriot': 1139, 'Patriot 70th anniversary': 1140, 'Patriot Latitude': 1141, 'Patrol': 1142, 'Patrol Y60': 1143, 'Phaeton': 1144, 'Phantom': 1145, 'Picanto': 1146, 'Pilot': 1147, 'Polo': 1148, 'Polo GTI 16V': 1149, 'Premacy': 1150, 'Presage': 1151, 'Presage RIDER': 1152, 'Primera': 1153, 'Prius': 1154, 'Prius 1.5I': 1155, 'Prius 1.8': 1156, 'Prius 11': 1157, 'Prius 2014': 1158, 'Prius 3': 1159, 'Prius 9': 1160, 'Prius BLUG-IN': 1161, 'Prius C': 1162, 'Prius C 1.5I': 1163, 'Prius C 2013': 1164, 'Prius C 80 original': 1165, 'Prius C Hybrid': 1166, 'Prius C Navigation': 1167, 'Prius C YARIS IA': 1168, 'Prius C aqua': 1169, 'Prius C hybrid': 1170, 'Prius C ჰიბრიდი': 1171, 'Prius Plug IN': 1172, 'Prius Plug in': 1173, 'Prius S': 1174, 'Prius TSS LIMITED': 1175, 'Prius V': 1176, 'Prius V ALPINA': 1177, 'Prius V HIBRID': 1178, 'Prius V HYBRID': 1179, 'Prius personna': 1180, 'Prius plagin': 1181, 'Prius plug-in': 1182, 'Prius plugin': 1183, 'Prius prius': 1184, 'Prius s': 1185, 'Prius ფლაგინი': 1186, 'Prius ჰიბრიდი': 1187, 'Protege': 1188, 'Punto': 1189, 'Q3': 1190, 'Q45': 1191, 'Q5': 1192, 'Q5 Prestige': 1193, 'Q5 S-line': 1194, 'Q50 S Red': 1195, 'Q7': 1196, 'Q7 sport': 1197, 'QX56': 1198, 'QX60': 1199, 'QX80': 1200, 'Qashqai Advance CVT': 1201, 'Qashqai SPORT': 1202, 'Quattroporte': 1203, 'Quest': 1204, 'Quest 2016': 1205, 'R 320': 1206, 'R 350': 1207, 'R 350 BLUETEC': 1208, 'R2': 1209, 'RAM': 1210, 'RAM 1500': 1211, 'RAV 4': 1212, 'RAV 4 Dizel': 1213, 'RAV 4 L': 1214, 'RAV 4 LIMITED': 1215, 'RAV 4 Le': 1216, 'RAV 4 SPORT': 1217, 'RAV 4 SUPER!!!': 1218, 'RAV 4 XLE': 1219, 'RAV 4 XLE Sport': 1220, 'RAV 4 s p o r t': 1221, 'RAV 4 se': 1222, 'RC F': 1223, 'RC F F SPORT': 1224, 'RDX': 1225, 'REXTON': 1226, 'REXTON SUPER': 1227, 'RIO': 1228, 'RIO lX': 1229, 'RIO lx': 1230, 'RS6': 1231, 'RS7': 1232, 'RVR': 1233, 'RX 300': 1234, 'RX 350': 1235, 'RX 350 F sport': 1236, 'RX 400': 1237, 'RX 400 H': 1238, 'RX 400 HYBRID': 1239, 'RX 400 RESTAILING': 1240, 'RX 400 hybrid': 1241, 'RX 450': 1242, 'RX 450 F SPORT': 1243, 'RX 450 H': 1244, 'RX 450 HYBRID': 1245, 'Ractis': 1246, 'Ramcharger': 1247, 'Range Rover': 1248, 'Range Rover Evoque': 1249, 'Range Rover Evoque 2.0': 1250, 'Range Rover Evoque რესტა': 1251, 'Range Rover VOGUE': 1252, 'Range Rover Velar': 1253, 'Range Rover Vogue': 1254, 'Ranger': 1255, 'Ranger Wildtrak': 1256, 'Rasheen': 1257, 'Regal': 1258, 'Renegade': 1259, 'Ridgeline': 1260, 'Rodeo': 1261, 'Rogue': 1262, 'Rogue SL': 1263, 'Rogue SPORT': 1264, 'Rogue Sport': 1265, 'Routan SEL': 1266, 'Rx-8': 1267, 'S 320': 1268, 'S 350': 1269, 'S 350 CDI 320': 1270, 'S 350 Longia': 1271, 'S 350 W2222': 1272, 'S 400': 1273, 'S 420': 1274, 'S 430': 1275, 'S 430 4.3': 1276, 'S 500': 1277, 'S 500 67': 1278, 'S 500 long': 1279, 'S 55 5.5': 1280, 'S 550': 1281, 'S 550 LONG': 1282, 'S 550 ჰიბრიდი': 1283, 'S 600': 1284, 'S 63 AMG': 1285, 'S-max': 1286, 'S-type': 1287, 'S3': 1288, 'S40': 1289, 'S6': 1290, 'S60': 1291, 'S70': 1292, 'S80': 1293, 'SJ 413 Samurai': 1294, 'SL 55 AMG': 1295, 'SLK 230': 1296, 'SLK 32 AMG': 1297, 'SLK 350 300': 1298, 'SOUL': 1299, 'SRX': 1300, 'SX4': 1301, 'Sai': 1302, 'Sambar': 1303, 'Samurai': 1304, 'Santa FE': 1305, 'Santa FE Ultimate': 1306, 'Santa FE long': 1307, 'Santa FE sport': 1308, 'Scenic': 1309, 'Scirocco': 1310, 'Scorpio': 1311, 'Sebring': 1312, 'Seicento fiat 600': 1313, 'Sentra': 1314, 'Sequoia': 1315, 'Serena': 1316, 'Serena Serea': 1317, 'Sharan': 1318, 'Shuttle': 1319, 'Sienna': 1320, 'Sienta': 1321, 'Sienta LE': 1322, 'Sierra': 1323, 'Sierra DIZEL': 1324, 'Silverado': 1325, 'Silvia': 1326, 'Sintra': 1327, 'Sirion': 1328, 'Skyline': 1329, 'Skyline 4WD': 1330, 'Skyline GT250': 1331, 'Smart': 1332, 'Smart Fortwo': 1333, 'Sonata': 1334, 'Sonata 2.0t': 1335, 'Sonata 2.4L': 1336, 'Sonata HYBRID': 1337, 'Sonata Hibrid': 1338, 'Sonata Hybrid': 1339, 'Sonata LIMITED': 1340, 'Sonata LPG': 1341, 'Sonata Limited': 1342, 'Sonata S': 1343, 'Sonata SE': 1344, 'Sonata SE LIMITED': 1345, 'Sonata SPORT': 1346, 'Sonata Sport': 1347, 'Sonata blue edition': 1348, 'Sonata hybrid': 1349, 'Sonata sport': 1350, 'Sonata სასწრაფოდ': 1351, 'Sonic': 1352, 'Sonic LT': 1353, 'Sorento': 1354, 'Sorento EX': 1355, 'Sorento SX': 1356, 'Space Runner': 1357, 'Spark': 1358, 'Sportage': 1359, 'Sportage EX': 1360, 'Sportage PRESTIGE': 1361, 'Sportage SX': 1362, 'Sprinter': 1363, 'Sprinter 308 CDI': 1364, 'Sprinter 311': 1365, 'Sprinter 313': 1366, 'Sprinter 313CDI': 1367, 'Sprinter 314': 1368, 'Sprinter 315CDI': 1369, 'Sprinter 315CDI-XL': 1370, 'Sprinter 316': 1371, 'Sprinter 316 CDI': 1372, 'Sprinter 411': 1373, 'Sprinter 516': 1374, 'Sprinter EURO4': 1375, 'Sprinter MAX': 1376, 'Sprinter Maxi-ს Max': 1377, 'Sprinter VAN': 1378, 'Sprinter VIP CLASS': 1379, 'Sprinter სატვირთო': 1380, 'Stella': 1381, 'Step Wagon': 1382, 'Step Wagon Pada': 1383, 'Step Wagon RG2 SPADA': 1384, 'Stream': 1385, 'Suburban': 1386, 'Superb': 1387, 'Swift': 1388, 'Swift Sport': 1389, 'T3': 1390, 'T3 0000': 1391, 'T5': 1392, 'TERRAIN': 1393, 'TL': 1394, 'TL saber': 1395, 'TLX': 1396, 'TSX': 1397, 'TT': 1398, 'Tacoma': 1399, 'Tacoma TRD Off Road': 1400, 'Taurus': 1401, 'Taurus X': 1402, 'Taurus interceptor': 1403, 'Teana': 1404, 'Terios': 1405, 'Terrano': 1406, 'Tigra': 1407, 'Tiguan': 1408, 'Tiguan SE': 1409, 'Tiida': 1410, 'Tiida 15 M': 1411, 'Tiida 2008': 1412, 'Tiida AXIS': 1413, 'Tiida Latio': 1414, 'Touareg': 1415, 'Touran': 1416, 'Tourneo Connect': 1417, 'Town Car': 1418, 'Town and Country': 1419, 'Trailblazer': 1420, 'Transit': 1421, 'Transit 100LD': 1422, 'Transit 135': 1423, 'Transit 2.4': 1424, 'Transit 350T': 1425, 'Transit CL': 1426, 'Transit Connect': 1427, 'Transit Connect Prastoi': 1428, 'Transit Connect ბენზინი': 1429, 'Transit Custom': 1430, 'Transit Fff': 1431, 'Transit S': 1432, 'Transit T330': 1433, 'Transit Tourneo': 1434, 'Transit ford': 1435, 'Transit პერეგაროტკა': 1436, 'Transporter': 1437, 'Traverse': 1438, 'Trax': 1439, 'Tribute': 1440, 'Tribute სასწრაფოდ': 1441, 'Tucson': 1442, 'Tucson Limited': 1443, 'Tucson SE': 1444, 'Tucson Se': 1445, 'Tucson TURBO': 1446, 'Tundra': 1447, 'Twingo': 1448, 'UP': 1449, 'Urus': 1450, 'V 230': 1451, 'V50': 1452, 'VOXY': 1453, 'VOXY 2003': 1454, 'Vaneo': 1455, 'Vanette': 1456, 'Vectra': 1457, 'Vectra 1.6': 1458, 'Vectra B': 1459, 'Vectra C': 1460, 'Vectra H': 1461, 'Vectra b': 1462, 'Vectra c': 1463, 'Vectra ბ': 1464, 'VehiCross': 1465, 'Veloster': 1466, 'Veloster R-spec': 1467, 'Veloster TURBO': 1468, 'Veloster Turbo': 1469, 'Veloster remix': 1470, 'Vento': 1471, 'Venza': 1472, 'Veracruz': 1473, 'Verisa': 1474, 'Verisa 2007': 1475, 'Versa': 1476, 'Versa SE': 1477, 'Versa s': 1478, 'Verso': 1479, 'Vesta': 1480, 'Viano': 1481, 'Viano Ambiente': 1482, 'Virage': 1483, 'Vitara': 1484, 'Vitara GL+': 1485, 'Vito': 1486, 'Vito 110d': 1487, 'Vito 111': 1488, 'Vito 111 CDI': 1489, 'Vito 113': 1490, 'Vito 115': 1491, 'Vito 115 CDI': 1492, 'Vito 2.2': 1493, 'Vito Exstralong': 1494, 'Vito Extra Long': 1495, 'Vito Extralong': 1496, 'Vito long115': 1497, 'Vitz': 1498, 'Vitz RS': 1499, 'Vitz funkargo': 1500, 'Vitz i.ll': 1501, 'Volt': 1502, 'Volt Full Packet': 1503, 'Volt PREMIER': 1504, 'Volt Premier': 1505, 'Volt premier': 1506, 'Vue': 1507, 'Will Chypa': 1508, 'Will Vs': 1509, 'Wingroad': 1510, 'Wish': 1511, 'Wizard': 1512, 'Wrangler': 1513, 'Wrangler ARB': 1514, 'Wrangler sport': 1515, 'X 250': 1516, 'X 250 ევროპული': 1517, 'X-Terra': 1518, 'X-Trail': 1519, 'X-Trail NISMO': 1520, 'X-Trail NISSAN X TRAIL R': 1521, 'X-Trail X-trail': 1522, 'X-Trail gt': 1523, 'X-type': 1524, 'X1': 1525, 'X1 28Xdrive': 1526, 'X1 4X4': 1527, 'X1 X-Drive': 1528, 'X3': 1529, 'X3 3.5i': 1530, 'X3 SDRIVE': 1531, 'X4': 1532, 'X5': 1533, 'X5 3.0': 1534, 'X5 3.0i': 1535, 'X5 3.5': 1536, 'X5 35d': 1537, 'X5 4,4i': 1538, 'X5 4.8is': 1539, 'X5 DIESEL': 1540, 'X5 E70': 1541, 'X5 Japan': 1542, 'X5 M': 1543, 'X5 M packet': 1544, 'X5 Sport': 1545, 'X5 X-Drive': 1546, 'X5 XDRIVE': 1547, 'X5 XDRIVE 35D': 1548, 'X5 e53': 1549, 'X5 rest': 1550, 'X5 restilling': 1551, 'X5 x5': 1552, 'X6': 1553, 'X6 40D': 1554, 'X6 GERMANY': 1555, 'X6 Limited': 1556, 'X6 M': 1557, 'XC90': 1558, 'XC90 2.5turbo': 1559, 'XC90 3.2 AWD': 1560, 'XE': 1561, 'XF': 1562, 'XJ': 1563, 'XK': 1564, 'XL7': 1565, 'XL7 limited': 1566, 'XV': 1567, 'XV HYBRID': 1568, 'XV LIMITED': 1569, 'YRV': 1570, 'Yaris': 1571, 'Yaris IA': 1572, 'Yaris RS': 1573, 'Yaris SE': 1574, 'Yaris iA': 1575, 'Yukon': 1576, 'Z4': 1577, 'Z4 3,0 SI': 1578, 'Zafira': 1579, 'Zafira B': 1580, 'i20': 1581, 'i3': 1582, 'i40': 1583, 'iA isti': 1584, 'kona': 1585, 'macan': 1586, 'macan S': 1587, 'tC': 1588, 'xD': 1589}

# Create input fields for each feature
levy = st.number_input("Levy", min_value=0, max_value=10000, step=1)
model_input = st.selectbox("Model", list(model_encoder.keys()))  # Add actual models here
prod_year = st.number_input("Production Year", min_value=1900, max_value=2023, step=1)
category = st.selectbox("Category", ['Cabriolet','Coupe','Goods wagon', 'Hatchback', 'Jeep', 'Limousine', 'Microbus', 'Minivan', 'Pickup', 'Sedan', 'Universal'])  # Add categories
leather_interior = st.selectbox("Leather Interior", ['Yes', 'No'])
engine_volume = st.number_input("Engine Volume (L)", min_value=0.5, max_value=10.0, step=0.1)
mileage = st.number_input("Mileage (km)", min_value=0, max_value=1000000, step=1000)
cylinders = st.number_input("Cylinders", min_value=1, max_value=16, step=1)
airbags = st.number_input("Airbags", min_value=1, max_value=10, step=1)

# Convert categorical features to integers using the same encoding
#model_encoder = {'Model A': 0, 'Model B': 1, 'Model C': 2}  # Adjust based on your encoding
category_encoder = {
    'Cabriolet': 0,
    'Coupe': 1,
    'Goods wagon': 2,
    'Hatchback': 3,
    'Jeep': 4,
    'Limousine': 5,
    'Microbus': 6,
    'Minivan': 7,
    'Pickup': 8,
    'Sedan': 9,
    'Universal': 10} 
leather_interior_encoder = {'Yes': 1, 'No': 0}  # Adjust based on your encoding

# Prepare the input features as a DataFrame
input_data = pd.DataFrame({
    'Levy': [levy],
    'Model': [model_encoder[model_input]],
    'Prod. year': [prod_year],
    'Category': [category_encoder[category]],
    'Leather interior': [leather_interior_encoder[leather_interior]],
    'Engine volume': [engine_volume],
    'Mileage': [mileage],
    'Cylinders': [cylinders],
    'Airbags': [airbags]
})

# Make predictions using the trained model
#predicted_price = model.predict(input_data)

# Access the scalar value from the numpy array and format it correctly
#st.write(f"Predicted Car Price: ${predicted_price[0][0]:,.2f}")

# Convert input_data to a NumPy array without column names
input_data_array = input_data.values

# Scale the user input using the loaded scaler
user_input_scaled = scl.transform(input_data_array)

# Make predictions using the trained model
predicted_price = model.predict(user_input_scaled)

# Inverse transform the predicted price to get the original scale
predicted_price_original = scaler.inverse_transform(predicted_price)

# Access the scalar value from the numpy array and format it correctly
st.write(f"Predicted Car Price: ${predicted_price_original[0][0]:,.2f}")

##########################################################################################################################################
